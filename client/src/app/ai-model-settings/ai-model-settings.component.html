<div class="ai-model-settings-container">
  <mat-card>
    <mat-card-header>
      <mat-card-title><h2>AI Model Settings</h2></mat-card-title>
      <a
        mat-icon-button
        routerLink="/model-usage"
        matTooltip="View model usage logs"
        aria-label="View model usage logs"
      >
        <mat-icon>analytics</mat-icon>
      </a>
    </mat-card-header>
    <mat-card-content>
      @if (settings.isLoading()) { @for (i of [1, 2, 3, 4, 5]; track i) {
      <div class="operation-group">
        <div class="skeleton skeleton-text-large"></div>
        <div class="models-list">
          @for (j of [1, 2, 3, 4, 5, 6]; track j) {
          <div class="model-item">
            <div class="skeleton skeleton-text-medium"></div>
            <div class="skeleton skeleton-toggle"></div>
          </div>
          }
        </div>
      </div>
      } } @else { @for (operation of settings.value(); track
      operation.operationType) {
      <div class="operation-group">
        <h3>{{ operation.operationDisplayName }}</h3>
        <div class="models-list">
          @for (model of operation.models; track model.modelName) {
          <div class="model-item">
            <span class="model-name">{{ model.modelName }}</span>
            <mat-slide-toggle
              [checked]="model.isEnabled"
              [disabled]="isToggling(operation.operationType, model.modelName)"
              (change)="
                onToggle(operation.operationType, model, $event.checked)
              "
              [attr.aria-label]="
                model.isEnabled
                  ? 'Disable ' + model.modelName
                  : 'Enable ' + model.modelName
              "
            ></mat-slide-toggle>
          </div>
          }
        </div>
      </div>
      } }
    </mat-card-content>
  </mat-card>
</div>
