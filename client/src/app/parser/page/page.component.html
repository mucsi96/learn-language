<div class="page-nav">
  <button bt bt-dropdown popovertarget="dropdown-menu-popover">
    {{ sourceName() }}
    <svg></svg>
  </button>
  <div popover bt id="dropdown-menu-popover" #popover>
    <ul bt-dropdown-menu>
      @for (source of sources(); track source.id) {
      <li>
        <a
          [routerLink]="['/sources', source.id, 'page', source.startPage]"
          (click)="popover.hidePopover()"
          >{{ source.name }}</a
        >
      </li>
      }
    </ul>
  </div>
  <a
    bt
    bt-button
    [routerLink]="['/sources', sourceId(), 'page', pageNumber() - 1]"
    >Back</a
  >
  <label bt
    ><input type="number" bt [(ngModel)]="pageNumber" (change)="onPageChange()"
  /></label>
  <a
    bt
    bt-button
    [routerLink]="['/sources', sourceId(), 'page', pageNumber() + 1]"
    >Next</a
  >
</div>
@if (loading()) {
<div role="progressbar" bt></div>
} @else {
<section class="page-layout">
  @for (span of spans(); track $index) {
  <app-span
    [text]="span.text"
    [bbox]="span.bbox"
    [font]="span.font"
    [color]="span.color"
    [fontSize]="span.fontSize"
    [matches]="span.matches"
  ></app-span>
  }
</section>
}
